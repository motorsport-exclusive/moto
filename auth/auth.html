<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Moto App - Motorsport Exclusive</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
:root{
  --bg1:#0f1724;
  --bg2:#1b2340;
  --card: rgba(255,255,255,0.04);
  --accent:#4ade80;
  --accent-2:#7c3aed;
  --text:#e6eef8;
  --muted:rgba(230,238,248,0.6);
  --glass: rgba(255,255,255,0.03);
}
body{
  font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:
    radial-gradient(800px 400px at 10% 20%, rgba(124,58,237,0.12), transparent 10%),
    radial-gradient(600px 300px at 90% 80%, rgba(74,222,128,0.06), transparent 8%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  color:var(--text);
  height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}
.container{
  width:360px;
  max-width:92%;
  padding:28px;
  border-radius:16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: 0 10px 30px rgba(2,6,23,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  position:relative;
  overflow:hidden;
  backdrop-filter: blur(8px) saturate(120%);
}
.container::before{
  content:'';
  position:absolute;
  left:-40%;
  top:-40%;
  width:200%;
  height:60%;
  transform:rotate(-12deg);
  background: linear-gradient(90deg, rgba(124,58,237,0.08), rgba(74,222,128,0.06));
  pointer-events:none;
}
h2{
  margin:0 0 18px 0;
  color:var(--accent-2);
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:1.05rem;
}
.form-toggle{ display:flex; gap:8px; margin-bottom:16px; }
.form-toggle button{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  font-weight:600;
}
.form-toggle button.active{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#071020;
  box-shadow: 0 6px 18px rgba(124,58,237,0.12), 0 2px 6px rgba(74,222,128,0.06);
}
input{
  width:100%;
  padding:12px 14px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:var(--glass);
  color:var(--text);
  outline:none;
  font-size:0.95rem;
}
input::placeholder{ color:var(--muted); opacity:0.9; }
button{
  width:100%;
  padding:12px;
  margin:10px 0;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:700;
  color:#071020;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
}
.google-btn{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  background:linear-gradient(90deg,#ffffff, #f1f5f9);
  color:#0b1220;
  padding:10px;
}
.google-btn img{ width:20px; height:20px }
.forgot-password{ display:block; margin-top:8px; color:var(--muted); text-decoration:none; font-size:0.9rem; }
.forgot-password:hover{ color:var(--accent); }
@media (max-width:420px){ .container{ padding:18px; border-radius:12px; } h2{ font-size:1rem; } input{ padding:10px; } button{ padding:10px; } }
  </style>
</head>
<body>
<div class="container">
  <h2>Moto App</h2>
  <div class="form-toggle">
    <button onclick="showLogin()" class="active">Login</button>
    <button onclick="showSignup()">Signup</button>
  </div>

  <div id="loginForm">
    <input id="loginEmail" type="email" placeholder="Email"><br>
    <input id="loginPassword" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
    <a class="forgot-password" onclick="forgotPassword()">Forgot Password?</a>
    <button class="google-btn" onclick="googleSignIn()">
      <img src="https://img.icons8.com/color/16/000000/google-logo.png"> Login with Google
    </button>
  </div>

  <div id="signupForm" style="display:none;">
    <input id="signupEmail" type="email" placeholder="Email"><br>
    <input id="signupPassword" type="password" placeholder="Password"><br>
    <button onclick="signup()">Signup</button>
    <button class="google-btn" onclick="googleSignIn()">
      <img src="https://img.icons8.com/color/16/000000/google-logo.png"> Signup with Google
    </button>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { 
  getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword,
  GoogleAuthProvider, signInWithPopup, sendPasswordResetEmail 
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCR1RiCfqPUJHOqByJTfK2c4rz96cGrzjw",
  authDomain: "motoprototype1.firebaseapp.com",
  projectId: "motoprototype1",
  storageBucket: "motoprototype1.firebasestorage.app",
  messagingSenderId: "165891636705",
  appId: "1:165891636705:web:d680c9b05ec22911bd66a0"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

gsap.from(".container", { duration: 1, opacity: 0, scale: 0.9, y: 50, ease: "power3.out" });

function showLogin() {
  document.getElementById("signupForm").style.display = "none";
  document.getElementById("loginForm").style.display = "block";
  document.querySelectorAll(".form-toggle button")[0].classList.add("active");
  document.querySelectorAll(".form-toggle button")[1].classList.remove("active");
}
function showSignup() {
  document.getElementById("loginForm").style.display = "none";
  document.getElementById("signupForm").style.display = "block";
  document.querySelectorAll(".form-toggle button")[1].classList.add("active");
  document.querySelectorAll(".form-toggle button")[0].classList.remove("active");
}

async function login(){
  const email=document.getElementById("loginEmail").value;
  const password=document.getElementById("loginPassword").value;
  try{
    const userCred=await signInWithEmailAndPassword(auth,email,password);
    localStorage.setItem("uid",userCred.user.uid);
    window.location.href="/auth/profile.html";
  }catch(e){ alert("Login failed: "+e.message);}
}

async function signup(){
  const email=document.getElementById("signupEmail").value;
  const password=document.getElementById("signupPassword").value;
  try{
    const userCred=await createUserWithEmailAndPassword(auth,email,password);
    localStorage.setItem("uid",userCred.user.uid);
    window.location.href="/auth/profile.html";
  }catch(e){ alert("Signup failed: "+e.message);}
}

async function googleSignIn(){
  try{
    const result=await signInWithPopup(auth,provider);
    const user=result.user;
    localStorage.setItem("uid",user.uid);
    localStorage.setItem("displayName",user.displayName||"");
    localStorage.setItem("email",user.email);
    localStorage.setItem("photoURL",user.photoURL||"");
    window.location.href="/auth/profile.html";
  }catch(e){ alert("Google login failed: "+e.message);}
}

async function forgotPassword(){
  const email=document.getElementById("loginEmail").value;
  if(!email) return alert("Enter your email");
  try{ await sendPasswordResetEmail(auth,email); alert("Password reset sent!"); }
  catch(e){ alert("Failed: "+e.message);}
}

window.showLogin=showLogin;
window.showSignup=showSignup;
window.login=login;
window.signup=signup;
window.googleSignIn=googleSignIn;
window.forgotPassword=forgotPassword;

// Initialize default form state
showLogin();
</script>
</body>
</html>
